<!DOCTYPE html>
<html>
<head>
  <title>Pragprog Books Online Store</title>
  <%= stylesheet_link_tag    "application", media: "all",
    "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %><!-- <label id="code.csrf"/> -->
</head>
<body class="<%= controller.controller_name %>">
  <div id="banner">
    <%= image_tag("logo.png") %>
    <%= @page_title || "Pragmatic Bookshelf" %>
  </div>
  <div id="columns">
    <div id="side">
      <% if controller.controller_name == "lpublishers" || 
            controller.controller_name == "publishers"  || 
            controller.controller_name == "static_pages"%>
      <% else %>
         <div id="cart">
           <%= render @cart %>
         </div>
      <% end %>
      
      <ul>
        <li><a href="http://www....">Home</a></li>
        <li><a href="http://www..../faq">Questions</a></li>
        <li><a href="http://www..../news">News</a></li>
        <li><a href="http://www..../contact">Contact</a></li>
        <li>><%= link_to 'Inventario', static_pages_inventario_path() %></li>
      </ul>

      <div class="toggler">
        <div id="effect" class="ui-widget-content ui-corner-all">
          <h3 class="ui-widget-header ui-corner-all">Hide</h3>
          <p>
          Etiam libero neque, luctus a, eleifend nec, semper at, lorem. Sed pede. Nulla 
          </p>
        </div>
      </div>
 
      <select name="effects" id="effectTypes">
        <option value="blind">Blind</option>
        <option value="bounce">Bounce</option>
        <option value="clip">Clip</option>
        <option value="drop">Drop</option>
        <option value="explode">Explode</option>
        <option value="fade">Fade</option>
        <option value="fold">Fold</option>
        <option value="highlight">Highlight</option>
        <option value="puff">Puff</option>
        <option value="pulsate">Pulsate</option>
        <option value="scale">Scale</option>
        <option value="shake">Shake</option>
        <option value="size">Size</option>
        <option value="slide">Slide</option>
      </select>
 
      <button id="button" class="ui-state-default ui-corner-all">Run Effect</button>

<script type="text/javascript" language="javascript">
$( function() {
    // run the currently selected effect
    function runEffect() {
      // get effect type from
      var selectedEffect = $( "#effectTypes" ).val();

      console.log("2."+selectedEffect);
      alert("2."+selectedEffect);
 
      // Most effect types need no options passed by default
      var options = {};
      // some effects have required parameters
      if ( selectedEffect === "scale" ) {
        options = { percent: 50 };
      } else if ( selectedEffect === "size" ) {
        options = { to: { width: 200, height: 60 } };
      }
 
      // Run the effect
      $( "#effect" ).hide( selectedEffect, options, 10000, callback );
    };
 
    // Callback function to bring a hidden box back
    function callback() {
      setTimeout(function() {
        $( "#effect" ).removeAttr( "style" ).hide().fadeIn();
      }, 10000 );
      console.log("3.da callback - fine");
      alert("3.da callback - fine");

    };
 
    // Set effect from select menu value
    $( "#button" ).on( "click", function() {
      console.log("1.vado a incominciare");
      alert("1.vado a incominciare");
      runEffect();
    });
  } );
</script>      

    </div>

    <div id="main">
      <%= yield %>
    </div>

  </div>  

</body>
</html>
